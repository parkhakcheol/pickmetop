<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.cafe24.pickmetop.coverletter.repository.CoverletterMapper">
<!-- 
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ	
					01	회원자소서 리스트	
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ	
 -->	
 	<select id="selectCoverletterMemberList" resultType="com.cafe24.pickmetop.coverletter.model.CoverletterMemberVo">
	SELECT 
		cm.m_cletter_cd AS mCletterCd, 
		cm.recruit_job_cd AS recruitJobCd, 
		cm.login_id AS loginId, 
		cm.m_cletter_name AS mCletterName, 
		cm.m_cletter_regdate AS mCletterRegdate, 
		cm.m_cletter_modidate AS mCletterModidate
	FROM 
		tb_cletter_member cm	
	</select>

<!-- 
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ	
					02	기업채용공고의 자기소개서 리스트	
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ	
 -->
	<select id="selectCoverletterCompanyJobList" resultType="com.cafe24.pickmetop.coverletter.model.CoverletterCompanyJobVo">
	SELECT
		rc.recruit_name AS recruitName, <!-- 채용명 -->
		ci.company_name AS companyName, <!-- 회사명 -->
		jm.job_midindex_name AS jobMidindexName, <!-- 직무대분류명 -->
		rcj.recruit_job_cd AS recruitJobCd, <!-- 하나의 기업채용공고의 직무별 코드 -->
		rcj.recruit_job_jobdetail AS recruitJobJobdetail, <!-- 상세직무 -->
		rcj.recruit_job_education AS recruitJobEducation, <!-- 학력 -->
		rcj.recruit_job_workstatus AS recruitJobWorkstatus, <!-- 채용형태 -->
		rc.recruit_enddate AS recruitEnddate <!-- 마감일 -->
	FROM 
		tb_recruit_company rc
	
	INNER JOIN
		tb_recruit_company_job rcj
	ON	
		rc.recruit_company_cd = rcj.recruit_company_cd
	
	INNER JOIN
		tb_company_info ci
	ON
		rc.company_cd = ci.company_cd
	
	INNER JOIN
		tb_job_midindex jm
	ON
		rcj.job_midindex_cd = jm.job_midindex_cd
	
	ORDER BY
		rc.recruit_enddate ASC
	</select>

<!-- 
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ	
					03	회원의 자기소개서 입력화면	
ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ	
 -->
 	<!-- 채용기업명/채용명/채용직무/채용마감일자 --> 
 	<select id="selectCompanyOneJobInfoByRecruitJobCd" 
 			resultType="com.cafe24.pickmetop.coverletter.model.CoverletterCompanyJobVo">
 	SELECT
		rcj.recruit_job_cd AS recruitJobCd, <!-- 하나의 기업채용공고의 직무별 코드 -->
		rc.recruit_name AS recruitName, <!-- 채용명 -->
		ci.company_name AS companyName, <!-- 회사명 -->
		jm.job_midindex_name AS jobMidindexName, <!-- 직무대분류명 -->
		rcj.recruit_job_jobdetail AS recruitJobJobdetail, <!-- 상세직무 -->
		rc.recruit_enddate AS recruitEnddate <!-- 마감일 -->
	FROM 
		tb_recruit_company rc
	INNER JOIN
		tb_recruit_company_job rcj
	ON	
		rc.recruit_company_cd = rcj.recruit_company_cd
	INNER JOIN
		tb_company_info ci
	ON
		rc.company_cd = ci.company_cd
	INNER JOIN
		tb_job_midindex jm
	ON
		rcj.job_midindex_cd = jm.job_midindex_cd
	
	WHERE
		rcj.recruit_job_cd = #{recruitJobCd}		
 	</select>
 	
</mapper>